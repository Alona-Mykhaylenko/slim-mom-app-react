(this["webpackJsonpslim-mom-app"]=this["webpackJsonpslim-mom-app"]||[]).push([[6],{138:function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return c})),a.d(e,"a",(function(){return i}));var r=function(t){return t.products},c=function(t){return t.selectedDate},i=function(t){return t.dayInfo}},142:function(t,e,a){t.exports={RightSideBarProducts:"rightSideBar_RightSideBarProducts__1GuxT",RightSideBarContainer:"rightSideBar_RightSideBarContainer__h0c4Q",RightSideBarHeader:"rightSideBar_RightSideBarHeader__1Mshj",RightSideBarItem:"rightSideBar_RightSideBarItem__2d6Re",RightSideBarStatictics:"rightSideBar_RightSideBarStatictics__3WrBh",RightSideBarSummary:"rightSideBar_RightSideBarSummary__S_rTq",RightSideBarListDiet:"rightSideBar_RightSideBarListDiet__2MegU"}},143:function(t,e,a){"use strict";a.d(e,"a",(function(){return o})),a.d(e,"b",(function(){return d})),a.d(e,"c",(function(){return s}));var r=a(3),c=a(22),i=a.n(c),n=a(19);i.a.defaults.baseURL="https://slimmom-backend.goit.global";var o=function(t,e,a){return function(r){var c={date:t,productId:e,weight:a};r(Object(n.b)()),i.a.post("/day",c).then((function(t){return r(Object(n.c)(t.data))})).catch((function(t){return r(Object(n.a)(t.message))}))}},d=function(t,e){return function(a){a(Object(n.e)());var c={dayId:t,eatenProductId:e};i.a.delete("/day",{data:c}).then((function(t){return a(Object(n.f)(Object(r.a)(Object(r.a)({},c),t.data)))})).catch((function(t){return a(Object(n.d)(t.message))}))}},s=function(t){return function(e,a){e(Object(n.h)()),i.a.post("/day/info",{date:t}).then((function(t){e(Object(n.i)(t.data))})).catch((function(t){return e(Object(n.g)(t.message))}))}}},144:function(t,e,a){"use strict";var r=a(50),c=a(169),i=a.n(c),n=a(13),o=function(t){var e,a;return null===(e=t.rateInfo)||void 0===e||null===(a=e.summaries)||void 0===a?void 0:a.dailyRate},d=function(t){var e,a;return null===(e=t.rateInfo)||void 0===e||null===(a=e.summaries)||void 0===a?void 0:a.kcalLeft},s=function(t){var e,a;return null===(e=t.rateInfo)||void 0===e||null===(a=e.summaries)||void 0===a?void 0:a.kcalConsumed},l=function(t){var e,a;return null===(e=t.rateInfo)||void 0===e||null===(a=e.summaries)||void 0===a?void 0:a.percentsOfDailyRate},u=function(t){var e;return null===(e=t.rateInfo)||void 0===e?void 0:e.notAllowedProducts},h=a(142),m=a.n(h),j=a(138),b=a(1);e.a=function(){var t=Object(n.d)(o),e=Object(n.d)(u),a=Object(n.d)(d),c=Object(n.d)(s),h=Object(n.d)(l),_=Object(n.d)(j.c),f=Object(r.a)(_,1)[0],O="";if(f){var g=f.split("-"),p=Object(r.a)(g,3),v=p[0],y=p[1],x=p[2];O="".concat(x,".").concat(y,".").concat(v)}var P=(new Date).toJSON().slice(0,10),D=i()(P).format("DD.MM.YYYY");return Object(b.jsxs)("div",{className:m.a.RightSideBarContainer,children:[Object(b.jsxs)("div",{className:m.a.RightSideBarSummary,children:[Object(b.jsxs)("h2",{className:m.a.RightSideBarHeader,children:["Data for ",O||D]}),Object(b.jsxs)("div",{className:m.a.RightSideBarStatictics,children:[Object(b.jsxs)("ul",{className:m.a.RightSideBarParams,children:[Object(b.jsx)("li",{className:m.a.RightSideBarItem,children:"Left"}),Object(b.jsx)("li",{className:m.a.RightSideBarItem,children:"Consumed"}),Object(b.jsx)("li",{className:m.a.RightSideBarItem,children:"Daily norm"}),Object(b.jsx)("li",{className:m.a.RightSideBarItem,children:"n% of norm"})]}),Object(b.jsxs)("ul",{children:[Object(b.jsxs)("li",{className:m.a.RightSideBarItem,children:[Math.round(a)||0," kcal"]}),Object(b.jsxs)("li",{className:m.a.RightSideBarItem,children:[Math.round(c)||0," kcal"]}),Object(b.jsxs)("li",{className:m.a.RightSideBarItem,children:[Math.round(t)||0," kcal"]}),Object(b.jsxs)("li",{className:m.a.RightSideBarItem,children:[Math.round(h)||0," %"]})]})]})]}),Object(b.jsxs)("div",{className:m.a.RightSideBarSummary,children:[Object(b.jsx)("h2",{className:m.a.RightSideBarHeader,children:"Products to exclude"}),Object(b.jsx)("ul",{className:m.a.RightSideBarProducts,children:Object(b.jsx)("li",{className:m.a.productsList,children:e.join(", ")})}),!e.length&&Object(b.jsx)("ul",{className:m.a.RightSideBarListDiet,children:Object(b.jsx)("li",{className:m.a.RightSideBarItem,children:"Products to exclude will be displayed here"})})]})]})}},328:function(t,e,a){t.exports={productInput:"DiaryAddProductForm_productInput__1DV9k",weightInput:"DiaryAddProductForm_weightInput__2zgL7",productForm:"DiaryAddProductForm_productForm__199Dr",formButton:"DiaryAddProductForm_formButton__1rN8f",formAddButton:"DiaryAddProductForm_formAddButton__2ExIW",productResultList:"DiaryAddProductForm_productResultList__3R20L",productResultListItem:"DiaryAddProductForm_productResultListItem__1CY_A",productLabel:"DiaryAddProductForm_productLabel__2mF87",break:"DiaryAddProductForm_break__3Zzl7"}},329:function(t,e,a){t.exports={overlay:"DiaryAddProductFormModal_overlay__3-t6p",modal:"DiaryAddProductFormModal_modal__2xUnc",formButton:"DiaryAddProductFormModal_formButton__1mTs2",iconBack:"DiaryAddProductFormModal_iconBack__21nfy",closeModalButton:"DiaryAddProductFormModal_closeModalButton__3sUSb"}},330:function(t,e,a){t.exports={icon:"IconClose_icon__1EEW9"}},331:function(t,e,a){t.exports={list:"DiaryProductList_list__1GF6B",foodName:"DiaryProductList_foodName__3AZp3",foodWeight:"DiaryProductList_foodWeight__2teW8",calendarImage:"DiaryProductList_calendarImage__3FEyX",dateAndCalendar:"DiaryProductList_dateAndCalendar__1VIEw",line:"DiaryProductList_line__1KWtR",listItem:"DiaryProductList_listItem__1YOAQ",container:"DiaryProductList_container__1zWkB",date:"DiaryProductList_date__1EE7l",calendarTable:"DiaryProductList_calendarTable__kGS60",button:"DiaryProductList_button__1YMK8",summary:"DiaryProductList_summary__1V4uC",buttonDelete:"DiaryProductList_buttonDelete__2_kdK",form:"DiaryProductList_form__3KR6E",buttonSubmit:"DiaryProductList_buttonSubmit___SkFU",iconClose:"DiaryProductList_iconClose__1NhiP"}},332:function(t,e,a){t.exports={container:"DiaryPage_container__1i0W7",modal:"DiaryPage_modal__S_BLn",list:"DiaryPage_list__1f1E3",foodName:"DiaryPage_foodName__3CkVL",foodWeight:"DiaryPage_foodWeight__2Ro3A",calendarImage:"DiaryPage_calendarImage__tmL-y",dateAndCalendar:"DiaryPage_dateAndCalendar__1L57g",line:"DiaryPage_line__2Objs",listItem:"DiaryPage_listItem__3VXth",date:"DiaryPage_date__3cYzA",calendarTable:"DiaryPage_calendarTable__2TNjz",button:"DiaryPage_button__2aNv0",summary:"DiaryPage_summary__17Sd_",form:"DiaryPage_form__1lesi",diarySection:"DiaryPage_diarySection__l9RQW"}},334:function(t,e,a){t.exports={"\u0441alendar":"DiaryDateCalendar_\u0441alendar__2LksI",datePicker:"DiaryDateCalendar_datePicker__2Rmio",datePickerLogo:"DiaryDateCalendar_datePickerLogo__2B--h"}},388:function(t,e,a){"use strict";a.r(e);var r,c,i,n,o=a(50),d=a(0),s=a(30),l=a(4),u=a(3),h=a(328),m=a.n(h),j=a(22),b=a.n(j),_=a(13),f=a(20),O=a(143),g=a(138),p=a(31),v=a(32),y=a.n(v),x=a(1),P=function(t){var e=t.closeModal,a=Object(_.d)(f.d),r=Object(_.d)(g.c),c=Object(d.useState)({searchWord:"",weight:""}),i=Object(o.a)(c,2),n=i[0],h=i[1],j=Object(d.useState)(null),v=Object(o.a)(j,2),P=v[0],D=v[1],S=Object(d.useState)([]),B=Object(o.a)(S,2),N=B[0],I=B[1],R=Object(_.c)(),k=y()({minWidth:"768px"}),L=function(t){return h((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(l.a)({},t.target.name,t.target.value))}))};return Object(x.jsx)("div",{children:Object(x.jsxs)("form",{className:m.a.productForm,onSubmit:function(t){t.preventDefault(),b.a.defaults.headers.common.Authorization="Bearer ".concat(a);var c=r;R(O.a.apply(void 0,Object(s.a)(c).concat([null===P||void 0===P?void 0:P._id,null===n||void 0===n?void 0:n.weight]))),R(Object(p.a)()),k||e(),h({searchWord:"",weight:""}),I([]),D(null)},children:[Object(x.jsx)("input",{placeholder:"Product name",type:"text",name:"searchWord",className:m.a.productInput,autoComplete:"off",autoFocus:!0,value:n.searchWord,onChange:function(t){L(t),t.target.value.length>0?(b.a.defaults.headers.common.Authorization="Bearer ".concat(a),b.a.get("https://slimmom-backend.goit.global/product?search=".concat(t.target.value)).then((function(e){var a=e.data;I((function(){return t.target.value.length>0?a:[]}))})).catch((function(t){I([]),D(null)}))):(I([]),D(null))}}),Object(x.jsx)("ul",{className:m.a.productResultList,id:"products",children:!!N.length&&!P&&N.map((function(t){return Object(x.jsx)("li",{className:m.a.productResultListItem,id:t._id,onClick:function(){D(t),h({searchWord:t.title.ru,weight:t.weight})},children:t.title.ru},t._id)}))}),Object(x.jsx)("label",{className:m.a.productLabel,children:Object(x.jsx)("input",{className:m.a.weightInput,placeholder:"Grams",type:"number",name:"weight",value:n.weight,onChange:L})}),Object(x.jsx)("br",{className:m.a.break}),k?Object(x.jsx)("button",{type:"submit",className:m.a.formButton,children:"+"}):Object(x.jsx)("button",{type:"submit",className:m.a.formAddButton,children:"Add"})]})})},D=a(51),S=a(52),B=a(53),N=a(54),I=a(329),R=a.n(I),k=a(330),L=a.n(k),A=function(){return Object(x.jsxs)("svg",{className:L.a.icon,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(x.jsx)("path",{d:"M1 1L13 13",stroke:"#9B9FAA",strokeWidth:"2"}),Object(x.jsx)("path",{d:"M1 13L13 0.999999",stroke:"#9B9FAA",strokeWidth:"2"})]})},w=function(t){Object(B.a)(a,t);var e=Object(N.a)(a);function a(){var t;Object(D.a)(this,a);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(t=e.call.apply(e,[this].concat(c))).handleBackdropClick=function(e){e.currentTarget===e.target&&t.props.closeModal()},t.closeProductModal=function(e){t.props.closeModal()},t}return Object(S.a)(a,[{key:"componentDidMount",value:function(){var t=this;window.addEventListener("keydown",(function(e){"Escape"===e.code&&t.props.closeModal()}))}},{key:"render",value:function(){return Object(x.jsx)("div",{className:R.a.overlay,onClick:this.handleBackdropClick,children:Object(x.jsxs)("div",{className:R.a.modal,children:[Object(x.jsx)("button",{onClick:this.closeProductModal,type:"button",className:R.a.closeModalButton,children:Object(x.jsx)(A,{})}),this.props.children]})})}}]),a}(d.Component),M=a(331),C=a.n(M),F=Object(_.b)((function(t){return{product:Object(g.b)(t),selectedDate:Object(g.c)(t),dayInfo:Object(g.a)(t)}}),(function(t){return{deleteProductProp:function(e,a){return t(Object(O.b)(e,a))}}}))((function(t){var e,a=t.openModalProp,r=t.product,c=t.deleteProductProp;return Object(x.jsxs)("div",{children:[r.eatenProducts&&!r.eatenProducts.length&&Object(x.jsx)("span",{children:"The list is empty"}),Object(x.jsx)("ul",{className:C.a.calendarTable,children:null===(e=r.eatenProducts)||void 0===e?void 0:e.map((function(t){return Object(x.jsx)("li",{className:C.a.listItem,children:Object(x.jsxs)("ul",{className:C.a.list,children:[Object(x.jsxs)("li",{className:C.a.foodName,children:[t.title," "]}),Object(x.jsxs)("li",{className:C.a.foodWeight,children:[t.weight," gr"]}),Object(x.jsxs)("li",{className:C.a.line,children:[Math.round(t.kcal)," kcal"]}),Object(x.jsx)("li",{children:Object(x.jsx)("button",{type:"button",className:C.a.buttonDelete,onClick:function(){return c(r.id,t.id)},children:Object(x.jsx)(A,{})})})]})},t.id)}))}),Object(x.jsx)("button",{type:"button",className:C.a.button,onClick:function(){var t;a(t)},children:"+"})]})})),W=a(332),E=a.n(W),z=a(335),T=a.n(z),Y=["title","titleId"];function U(){return(U=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t}).apply(this,arguments)}function V(t,e){if(null==t)return{};var a,r,c=function(t,e){if(null==t)return{};var a,r,c={},i=Object.keys(t);for(r=0;r<i.length;r++)a=i[r],e.indexOf(a)>=0||(c[a]=t[a]);return c}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)a=i[r],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(c[a]=t[a])}return c}function G(t,e){var a=t.title,o=t.titleId,s=V(t,Y);return d.createElement("svg",U({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 29 32",ref:e,"aria-labelledby":o},s),void 0===a?d.createElement("title",{id:o},"calendar"):a?d.createElement("title",{id:o},a):null,r||(r=d.createElement("path",{fill:"#9B9FAA",d:"M22.4 14.4h-3.2v3.2h3.2v-3.2z"})),c||(c=d.createElement("path",{fill:"#9B9FAA",d:"M16 14.4h-3.2v3.2h3.2v-3.2z"})),i||(i=d.createElement("path",{fill:"#9B9FAA",d:"M9.6 14.4h-3.2v3.2h3.2v-3.2z"})),n||(n=d.createElement("path",{fill:"#9B9FAA",d:"M25.6 3.2h-1.6v-3.2h-3.2v3.2h-12.8v-3.2h-3.2v3.2h-1.6c-1.776 0-3.184 1.44-3.184 3.2l-0.016 22.4c0 1.76 1.424 3.2 3.2 3.2h22.4c1.76 0 3.2-1.44 3.2-3.2v-22.4c0-1.76-1.44-3.2-3.2-3.2zM25.6 28.8h-22.4v-17.6h22.4v17.6z"})))}var H=d.forwardRef(G),K=(a.p,a(333),a(334)),J=a.n(K),Q=a(19),X=function(){var t=Object(_.c)(),e=Object(d.useState)(new Date),a=Object(o.a)(e,2),r=a[0],c=a[1];return Object(d.useEffect)((function(){t(Object(Q.j)(r.toISOString().slice(0,10))),t(Object(O.c)(r.toISOString().slice(0,10)))}),[t,r]),Object(x.jsx)("div",{className:J.a.\u0441alendar,children:Object(x.jsxs)("label",{children:[Object(x.jsx)(T.a,{className:J.a.datePicker,selected:r,dateFormat:"dd.MM.yyyy",onChange:function(t){return c(t)}}),Object(x.jsx)(H,{className:J.a.datePickerLogo})]})})},Z=a(144);e.default=function(){var t=Object(d.useState)(!1),e=Object(o.a)(t,2),a=e[0],r=e[1],c=y()({minWidth:"768px"}),i=function(){r(!1)};return Object(x.jsxs)("section",{className:E.a.diarySection,children:[a&&Object(x.jsx)("div",{className:E.a.section,children:Object(x.jsx)(w,{closeModal:i,children:Object(x.jsx)(P,{closeModal:i})})}),Object(x.jsxs)("div",{className:E.a.container,children:[Object(x.jsxs)("div",{className:E.a.dateAndCalendar,children:[Object(x.jsx)(X,{}),Object(x.jsx)("img",{className:E.a.calendarImage,src:"./calendar 1.svg",alt:""}),Object(x.jsx)("svg",{width:"18",height:"20",className:E.a.calendarImage,children:Object(x.jsx)("use",{href:"./symbol-defs.svg.svg#calendar"})})]}),c&&Object(x.jsx)(P,{closeModal:i}),Object(x.jsx)(F,{openModalProp:function(t){r(!0)}})]}),Object(x.jsx)("div",{className:E.a.summary,children:Object(x.jsx)(Z.a,{})})]})}}}]);
//# sourceMappingURL=6.43290d89.chunk.js.map