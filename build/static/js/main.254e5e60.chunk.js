(this["webpackJsonpslim-mom-app"]=this["webpackJsonpslim-mom-app"]||[]).push([[2],{130:function(e,t,n){"use strict";n.r(t);var c,r,a,i,o,s,u=n(0),l=n.n(u),d=n(24),j=n.n(d),b=(n(78),n(50)),O=n(13),f=n(31),h=n(20),m=n(40),p=n.n(m),g=n(1),x=function(){var e=Object(O.d)(h.c),t=Object(O.d)(h.d),n=Object(O.c)();return Object(g.jsx)(g.Fragment,{children:t&&Object(g.jsxs)("div",{className:p.a.userInfo,children:[Object(g.jsxs)("span",{className:p.a.userLogin,children:[" ",e," "]}),Object(g.jsx)("button",{type:"button",className:p.a.exitButton,onClick:function(e){n(Object(f.c)())},children:"Log out"})]})})},v=n(6),y=n.n(v),_=n(11),k=n(51),N=n(52),C=n(53),w=n(54),L=n(46),I=n.n(L),A=document.querySelector("#modal-root"),P=function(e){Object(C.a)(n,e);var t=Object(w.a)(n);function n(){var e;Object(k.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).handleEsc=function(t){"Escape"===t.code&&e.props.hideModal()},e.onHandleClick=function(){e.props.hideModal()},e.handleBackdropClick=function(t){t.target===t.currentTarget&&e.props.hideModal()},e}return Object(N.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleEsc),document.querySelector("body").style.overflow="hidden"}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleEsc),document.querySelector("body").style.overflow="auto"}},{key:"render",value:function(){return Object(d.createPortal)(Object(g.jsx)("div",{className:I.a.Overlay,onClick:this.handleBackdropClick,children:Object(g.jsx)("div",{className:I.a.Modal,children:this.props.children})}),A)}}]),n}(u.Component),R=n(10),S=n(32),B=n.n(S),H=function(e){var t=e.isModalOpen,n=e.setModalState,c=Object(O.d)(h.d),r=B()({minWidth:"768px"});return Object(g.jsxs)("nav",{className:y.a.headerNavigation,children:[Object(g.jsxs)("ul",{className:y.a.listLogo,children:[Object(g.jsx)("li",{children:Object(g.jsx)(_.c,{className:y.a.link,to:"/diary",children:Object(g.jsx)("svg",{className:y.a.logo,children:Object(g.jsx)("use",{href:"../../img/svg/sprite.svg#icon-logo"})})})}),Object(g.jsx)("li",{className:y.a.text,children:Object(g.jsx)(_.c,{to:"/diary",children:Object(g.jsx)("svg",{className:y.a.text,children:Object(g.jsx)("use",{href:"../../img/svg/sprite.svg#icon-SlimMom",children:"LOGO"})})})})]}),!c&&Object(g.jsxs)("ul",{className:y.a.regisrationList,children:[Object(g.jsx)("li",{className:y.a.regisrationListItem,children:Object(g.jsx)(_.c,{className:y.a.link,activeClassName:y.a.linkActive,to:"/login",children:"SIGN IN"})}),Object(g.jsx)("li",{className:y.a.regisrationListItem,children:Object(g.jsx)(_.c,{className:y.a.link,activeClassName:y.a.linkActive,to:"/registration",children:"REGISTRATION"})})]}),c&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("ul",{className:y.a.regisrationList,children:[Object(g.jsx)("li",{className:y.a.navigationListItem,children:Object(g.jsx)(_.c,{className:y.a.link,activeClassName:y.a.linkActive,to:"/diary",children:"DIARY"})}),Object(g.jsx)("li",{className:y.a.navigationListItem,children:Object(g.jsx)(_.c,{className:y.a.link,activeClassName:y.a.linkActive,to:"/calculator",children:"CALCULATOR"})})]})}),r&&Object(g.jsx)("div",{className:y.a.userInfoNav,children:Object(g.jsx)(x,{})}),!t&&c&&Object(g.jsx)("svg",{className:y.a.burgerBtn,onClick:n,children:Object(g.jsx)("use",{href:"../../img/svg/sprite.svg#",children:"LOGO"})}),t&&Object(g.jsx)("svg",{className:y.a.burgerClose,onClick:n,children:Object(g.jsx)("use",{href:"../../img/svg/sprite.svg#",children:"LOGO"})})]})},E=Object(R.i)((function(){var e=Object(u.useState)(!1),t=Object(b.a)(e,2),n=t[0],c=t[1],r=B()({minWidth:"320px",maxWidth:"767px"}),a=function(){return c((function(e){return{isModalOpen:!e.isModalOpen}}))},i=n.isModalOpen;return Object(g.jsxs)("div",{className:y.a.container,children:[Object(g.jsx)(H,{isModalOpen:i,setModalState:a}),i&&Object(g.jsx)(P,{hideModal:a,children:Object(g.jsxs)("ul",{className:y.a.listBurger,children:[Object(g.jsx)("li",{className:y.a.listBurgerItem,children:Object(g.jsx)(_.c,{className:y.a.linkBurger,activeClassName:y.a.linkActiveWhite,onClick:a,to:"/diary",children:"DIARY"})}),Object(g.jsx)("li",{className:y.a.listBurgerItem,children:Object(g.jsx)(_.c,{className:y.a.linkBurger,activeClassName:y.a.linkActiveWhite,onClick:a,to:"/calculator",children:"CALCULATOR"})})]})}),r&&Object(g.jsx)(x,{})]})})),M=n(3),D=n(39),T=["component","redirectTo"],q=function(e){var t=e.component,n=e.redirectTo,c=Object(D.a)(e,T),r=Object(O.d)(h.d);return Object(g.jsx)(R.b,Object(M.a)(Object(M.a)({},c),{},{render:function(e){return r?Object(g.jsx)(t,Object(M.a)({},e)):Object(g.jsx)(R.a,{to:n})}}))},U=["component","redirectTo"],W=function(e){var t=e.component,n=(e.redirectTo,Object(D.a)(e,U)),c=Object(O.d)(h.d);return Object(g.jsx)(R.b,Object(M.a)(Object(M.a)({},n),{},{render:function(e){return c&&n.restricted?Object(g.jsx)(R.a,{to:"/calculator"}):Object(g.jsx)(t,Object(M.a)({},e))}}))},z=n(70),F=n.n(z),G=n(49),J=n.n(G),Y=(n(127),function(){return Object(g.jsx)("div",{className:J.a.Loader,children:Object(g.jsx)(F.a,{style:J.a,type:"Circles",color:"#FC842D",height:100,width:100})})}),X=n(41),Z=n.n(X),K=function(){return Object(g.jsxs)("div",{className:Z.a.container,children:[Object(g.jsx)("h2",{className:Z.a.title,children:"404 Not Found"}),Object(g.jsx)("p",{className:Z.a.text,children:"Whoops... Something went wrong!"})]})},Q=Object(u.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(7)]).then(n.bind(null,389))})),V=Object(u.lazy)((function(){return Promise.all([n.e(0),n.e(10)]).then(n.bind(null,390))})),$=Object(u.lazy)((function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,391))})),ee=Object(u.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(8)]).then(n.bind(null,392))})),te=Object(u.lazy)((function(){return Promise.all([n.e(1),n.e(5),n.e(6)]).then(n.bind(null,388))})),ne=function(){return Object(g.jsx)("div",{children:Object(g.jsx)(u.Suspense,{fallback:Object(g.jsx)(Y,{}),children:Object(g.jsxs)(R.d,{children:[Object(g.jsx)(W,{exact:!0,path:"/",component:Q,restricted:!0,redirectTo:"/calculator"}),Object(g.jsx)(W,{exact:!0,path:"/registration",component:V,redirectTo:"/login",restricted:!0}),Object(g.jsx)(W,{exact:!0,path:"/login",component:$,redirectTo:"/calculator",restricted:!0}),Object(g.jsx)(q,{path:"/calculator",component:ee,redirectTo:"/"}),Object(g.jsx)(q,{path:"/diary",component:te,redirectTo:"/"}),Object(g.jsx)(R.b,{component:K})]})})})},ce=n(71),re=n.n(ce),ae=function(){var e=Object(O.c)();return Object(u.useEffect)((function(){e(Object(f.a)())}),[e]),Object(g.jsxs)("div",{className:re.a.container,children:[Object(g.jsx)(E,{}),Object(g.jsx)(ne,{})]})},ie=n(30),oe=n(2),se=n(23),ue=n(38),le=n(12),de=n(25),je=n(72),be=n.n(je),Oe=n(4),fe=n(5),he=Object(oe.c)({},(c={},Object(Oe.a)(c,fe.l,(function(e,t){return t.payload.user})),Object(Oe.a)(c,fe.f,(function(e,t){return t.payload.user})),Object(Oe.a)(c,fe.c,(function(e,t){return t.payload})),Object(Oe.a)(c,fe.i,(function(){return{}})),c)),me=Object(oe.c)(null,(r={},Object(Oe.a)(r,fe.l,(function(e,t){t.payload;return null})),Object(Oe.a)(r,fe.f,(function(e,t){return t.payload.accessToken})),Object(Oe.a)(r,fe.i,(function(){return null})),r)),pe=function(e,t){return t.payload},ge=Object(oe.c)(null,(a={},Object(Oe.a)(a,fe.j,pe),Object(Oe.a)(a,fe.d,pe),Object(Oe.a)(a,fe.g,pe),Object(Oe.a)(a,fe.a,pe),a)),xe=Object(oe.c)(!1,(i={},Object(Oe.a)(i,fe.l,(function(){return!0})),Object(Oe.a)(i,fe.f,(function(){return!0})),Object(Oe.a)(i,fe.c,(function(){return!0})),Object(Oe.a)(i,fe.j,(function(){return!1})),Object(Oe.a)(i,fe.d,(function(){return!1})),Object(Oe.a)(i,fe.a,(function(){return!1})),Object(Oe.a)(i,fe.i,(function(){return!1})),i)),ve=Object(le.b)({user:he,token:me,error:ge,isAuthenticated:xe}),ye=n(19),_e=Object(oe.c)({id:"",eatenProducts:[]},(o={},Object(Oe.a)(o,ye.c,(function(e,t){var n=t.payload,c=[].concat(Object(ie.a)(e.eatenProducts),[n.eatenProduct]);return"newDay"in n?Object(M.a)(Object(M.a)({},e),{},{id:n.newDay.id,eatenProducts:c}):Object(M.a)(Object(M.a)({},e),{},{eatenProducts:c})})),Object(Oe.a)(o,ye.f,(function(e,t){var n=t.payload;return Object(M.a)(Object(M.a)({},e),{},{eatenProducts:e.eatenProducts.filter((function(e){return e.id!==n.eatenProductId}))})})),Object(Oe.a)(o,ye.i,(function(e,t){var n=t.payload;return"undefined"===typeof n.eatenProducts?Object(M.a)(Object(M.a)({},e),{},{eatenProducts:[]}):Object(M.a)(Object(M.a)({},e),{},{eatenProducts:n.eatenProducts,id:n.id})})),o)),ke=Object(oe.c)([],Object(Oe.a)({},ye.j,(function(e,t){return[t.payload]}))),Ne=(Object(oe.c)({id:"",eatenProducts:[]},Object(Oe.a)({},ye.i,(function(e,t){return t.payload}))),n(68)),Ce=(Object(oe.b)("dailyRate/getDailyRateRequest"),Object(oe.b)("dailyRate/getDailyRateSuccess")),we=(Object(oe.b)("dailyRate/getDailyRateError"),{id:"",dailyRate:"",summaries:{_id:"",date:"",kcalLeft:"",kcalConsumed:"",dailyRate:"",percentsOfDailyRate:"",userId:""},notAllowedProducts:[]}),Le=Object(oe.c)(we,(s={},Object(Oe.a)(s,Ce,(function(e,t){return t.payload})),Object(Oe.a)(s,fe.c,(function(e,t){var n=t.payload;return Object(M.a)(Object(M.a)({},e),{},{notAllowedProducts:n.userData.notAllowedProducts})})),Object(Oe.a)(s,ye.c,(function(e,t){var n=t.payload;return Object(M.a)(Object(M.a)({},e),{},{summaries:"undefined"===typeof n.daySummary?n.newSummary:n.daySummary})})),Object(Oe.a)(s,ye.i,(function(e,t){var n=t.payload;return"id"in n?Object(M.a)(Object(M.a)({},e),{},{id:n.id,summaries:n.daySummary}):Object(M.a)(Object(M.a)({},e),{},{summaries:n})})),Object(Oe.a)(s,ye.f,(function(e,t){var n=t.payload;return Object(M.a)(Object(M.a)({},e),{},{summaries:n.newDaySummary})})),Object(Oe.a)(s,Ne.c,(function(e,t){var n=t.payload,c=n.summaries.find((function(t){return t.date===e.summaries.date}));return c?Object(M.a)(Object(M.a)({},e),{},{summaries:c,notAllowedProducts:n.notAllowedProducts}):Object(M.a)(Object(M.a)({},e),{},{notAllowedProducts:n.notAllowedProducts,summaries:Object(M.a)(Object(M.a)({},e.summaries),{},{dailyRate:n.dailyRate,kcalLeft:n.dailyRate})})})),Object(Oe.a)(s,fe.i,(function(){return we})),s)),Ie={key:"auth",storage:be.a,whitelist:["token"]},Ae=Object(de.a)(Ie,ve),Pe=Object(le.b)({products:_e,rateInfo:Le,selectedDate:ke,auth:Ae}),Re=Object(ie.a)(Object(oe.d)({serializableCheck:{ignoredActions:[se.a,se.f,se.b,se.c,se.d,se.e]}})),Se=Object(oe.a)({reducer:Pe,middleware:Re}),Be=Object(ue.a)(Se),He=n(73);j.a.render(Object(g.jsx)(l.a.StrictMode,{children:Object(g.jsx)(O.a,{store:Se,children:Object(g.jsx)(He.a,{loading:null,persistor:Be,children:Object(g.jsx)(_.a,{children:Object(g.jsx)(ae,{})})})})}),document.getElementById("root"))},19:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return j})),n.d(t,"g",(function(){return b}));var c=n(2),r=Object(c.b)("products/addProductRequest"),a=Object(c.b)("products/addProductSuccess"),i=Object(c.b)("products/addProductError"),o=Object(c.b)("products/deleteContactRequest"),s=Object(c.b)("products/deleteContactSuccess"),u=Object(c.b)("products/deleteContactError"),l=Object(c.b)("getSelectedDay"),d=Object(c.b)("products/getDayInfoRequest"),j=Object(c.b)("products/getDayInfoSuccess"),b=Object(c.b)("products/getDayInfoError")},20:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var c=function(e){return e.auth.token},r=function(e){return e.auth.user.username},a=function(e){return e.auth.user.id},i=function(e){return e.auth.user.userData}},31:function(e,t,n){"use strict";n.d(t,"d",(function(){return O})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return m}));var c=n(21),r=n.n(c),a=n(28),i=n(22),o=n.n(i),s=n(26),u=(n(64),n(69));n(101),n(102);s.defaults.mode="light",s.defaults.closerHover=!0,s.defaults.delay=3e3,s.defaultModules.set(u,{});var l=function(e){return Object(s.error)({text:e,addClass:"notification"})},d=n(5);o.a.defaults.baseURL="https://slimmom-backend.goit.global/";var j=function(e){o.a.defaults.headers.common.Authorization="Bearer ".concat(e)},b=function(){o.a.defaults.headers.common.Authorization=""},O=function(e){return function(){var t=Object(a.a)(r.a.mark((function t(n){var c,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Object(d.k)()),t.prev=1,t.next=4,o.a.post("auth/register",e);case 4:c=t.sent,n(Object(d.l)(c.data)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),409===(null===(a=t.t0.response)||void 0===a?void 0:a.status)&&l("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c \u043b\u043e\u0433\u0438\u043d\u043e\u043c \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d"),n(Object(d.j)(t.t0.message));case 12:case 13:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(a.a)(r.a.mark((function t(n){var c,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Object(d.e)()),t.prev=1,t.next=4,o.a.post("/auth/login",e);case 4:c=t.sent,j(c.data.accessToken),n(Object(d.f)(c.data)),n(m()),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),403===(null===(a=t.t0.response)||void 0===a?void 0:a.status)&&l("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"),n(Object(d.d)(t.t0.message));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},h=function(){return function(){var e=Object(a.a)(r.a.mark((function e(t,n){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Object(d.h)()),e.prev=1,j(n().auth.token),e.next=5,o.a.post("/auth/logout");case 5:c=e.sent,t(Object(d.i)(c.data)),b(),window.location.reload(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t(Object(d.g)(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}()},m=function(){return function(){var e=Object(a.a)(r.a.mark((function e(t,n){var c,a,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=n(),a=c.auth.token){e.next=3;break}return e.abrupt("return");case 3:return j(a),t(Object(d.b)()),e.prev=5,e.next=8,o.a.get("/user");case 8:i=e.sent,t(Object(d.c)(i.data)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),t(Object(d.a)(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}()}},40:function(e,t,n){e.exports={userInfo:"UserInfo_userInfo__19iep",userLogin:"UserInfo_userLogin__1XmSD",exitButton:"UserInfo_exitButton__2EfTd"}},41:function(e,t,n){e.exports={title:"NotFound_title__472yW",text:"NotFound_text__1nvuc",container:"NotFound_container__2z76W"}},46:function(e,t,n){e.exports={Overlay:"BurgerModal_Overlay__3HJfA",Modal:"BurgerModal_Modal__3EseJ"}},49:function(e,t,n){e.exports={Loader:"Loader_Loader__3iIG1"}},5:function(e,t,n){"use strict";n.d(t,"k",(function(){return r})),n.d(t,"l",(function(){return a})),n.d(t,"j",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"g",(function(){return j})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return O})),n.d(t,"a",(function(){return f}));var c=n(2),r=Object(c.b)("auth/registerRequest"),a=Object(c.b)("auth/registerSucces"),i=Object(c.b)("auth/registerError"),o=Object(c.b)("auth/loginRequest"),s=Object(c.b)("auth/loginSuccess"),u=Object(c.b)("auth/loginError"),l=Object(c.b)("auth/logout/logoutRequest"),d=Object(c.b)("auth/logoutSuccess"),j=Object(c.b)("auth/logoutError"),b=Object(c.b)("auth/getCurrentUserRequest"),O=Object(c.b)("auth/getCurrentUserSuccess"),f=Object(c.b)("auth/getCurrentUserError")},6:function(e,t,n){e.exports={container:"Header_container__3sr7f",headerNavigation:"Header_headerNavigation__3Pko3",logo:"Header_logo__1Cqdm",text:"Header_text__1iHop",burgerBtn:"Header_burgerBtn__37jjP",burgerClose:"Header_burgerClose__1bG_N",burgerBtn1:"Header_burgerBtn1__1_31H",regisrationList:"Header_regisrationList__3n77T",link:"Header_link__364W2",linkActive:"Header_linkActive__34NuR",linkActiveWhite:"Header_linkActiveWhite__3j2S6",regisrationListItem:"Header_regisrationListItem__2LBq3",navigationListItem:"Header_navigationListItem__3Z7sB",linkBurger:"Header_linkBurger__2aoSR",listBurger:"Header_listBurger__S01p9",listBurgerItem:"Header_listBurgerItem__2RCx9",listLogo:"Header_listLogo__3vU30"}},68:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));var c=n(2),r=Object(c.b)("calculator/updateCalculatorRequest"),a=Object(c.b)("calculator/updateCalculatorSuccess"),i=Object(c.b)("calculator/updateCalculatorError")},71:function(e,t,n){e.exports={container:"App_container__3bxUx"}},78:function(e,t,n){}},[[130,3,4]]]);
//# sourceMappingURL=main.254e5e60.chunk.js.map